(function(a){a.fn.fitVids=function(d){var e={customSelector:null};if(!document.getElementById("fit-vids-style")){var c=document.head||document.getElementsByTagName("head")[0];var b=".fluid-width-video-wrapper{width:100%;position:relative;padding:0;}.fluid-width-video-wrapper iframe,.fluid-width-video-wrapper object,.fluid-width-video-wrapper embed {position:absolute;top:0;left:0;width:100%;height:100%;}";var f=document.createElement("div");f.innerHTML='<p>x</p><style id="fit-vids-style">'+b+"</style>";c.appendChild(f.childNodes[1])}if(d){a.extend(e,d)}return this.each(function(){var g=["iframe[src*='player.vimeo.com']","iframe[src*='youtube.com']","iframe[src*='youtube-nocookie.com']","iframe[src*='kickstarter.com'][src*='video.html']","object","embed"];if(e.customSelector){g.push(e.customSelector)}var h=a(this).find(g.join(","));h=h.not("object object");h.each(function(){var m=a(this);if(this.tagName.toLowerCase()==="embed"&&m.parent("object").length||m.parent(".fluid-width-video-wrapper").length){return}var l=(this.tagName.toLowerCase()==="object"||(m.attr("height")&&!isNaN(parseInt(m.attr("height"),10))))?parseInt(m.attr("height"),10):m.height(),i=!isNaN(parseInt(m.attr("width"),10))?parseInt(m.attr("width"),10):m.width(),j=l/i;if(!m.attr("id")){var k="fitvid"+Math.floor(Math.random()*999999);m.attr("id",k)}m.wrap('<div class="fluid-width-video-wrapper"></div>').parent(".fluid-width-video-wrapper").css("padding-top",(j*100)+"%");m.removeAttr("height").removeAttr("width")})})}})(window.jQuery||window.Zepto);